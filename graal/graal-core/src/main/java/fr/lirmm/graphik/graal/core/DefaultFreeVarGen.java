package fr.lirmm.graphik.graal.core;


public class DefaultFreeVarGen implements SymbolGenerator {

	private static DefaultFreeVarGen instance = null;
	
	public static Term genFreeVar() {
		if(instance == null) {
			instance = new DefaultFreeVarGen("X" + DefaultFreeVarGen.class.hashCode() + "_");
		}
		return instance.getFreeVar();
	}

	// /////////////////////////////////////////////////////////////////////////
	// 
	// /////////////////////////////////////////////////////////////////////////
	
	private String prefix;
	private int index;

	// /////////////////////////////////////////////////////////////////////////
	// CONSTRUCTOR
	// /////////////////////////////////////////////////////////////////////////

	public DefaultFreeVarGen(String prefix) {
		this.index = 0;
		this.prefix = prefix;
	}

	// /////////////////////////////////////////////////////////////////////////
	// PUBLIC METHODS
	// /////////////////////////////////////////////////////////////////////////

	@Override
	public Term getFreeVar() {
		return new Term(this.prefix + getFreeIndex(), Term.Type.VARIABLE);
	}

	// /////////////////////////////////////////////////////////////////////////
	// PRIVATE METHODS
	// /////////////////////////////////////////////////////////////////////////

	private int getFreeIndex() {
		return index++;
	}

};
